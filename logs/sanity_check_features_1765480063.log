2025-12-11 14:07:43 [INFO] [__main__:57] Logging to file: /gpfs/accounts/si670f25_class_root/si670f25_class/santoshd/fvc/logs/sanity_check_features_1765480063.log
2025-12-11 14:07:43 [INFO] [__main__:245] ================================================================================
2025-12-11 14:07:43 [INFO] [__main__:246] SANITY CHECK: Stage 2 and Stage 4 Features
2025-12-11 14:07:43 [INFO] [__main__:247] ================================================================================
2025-12-11 14:07:43 [INFO] [__main__:250] 
================================================================================
2025-12-11 14:07:43 [INFO] [__main__:251] STAGE 2 FEATURES
2025-12-11 14:07:43 [INFO] [__main__:252] ================================================================================
2025-12-11 14:07:43 [INFO] [__main__:254] ✓ Stage 2 metadata found: /gpfs/accounts/si670f25_class_root/si670f25_class/santoshd/fvc/data/features_stage2/features_metadata.parquet
2025-12-11 14:07:50 [INFO] [__main__:259]   Total videos: 3244
2025-12-11 14:07:50 [INFO] [__main__:260]   Feature count: 15
2025-12-11 14:07:50 [INFO] [__main__:266]   ✓ Correct number of features (15 - codec cues may be unavailable)
2025-12-11 14:07:50 [INFO] [__main__:274]   Feature names: ['boundary_inconsistency', 'codec_bitrate', 'codec_fps', 'codec_resolution', 'dct_ac_energy', 'dct_ac_mean', 'dct_ac_std', 'dct_dc_mean', 'dct_dc_std', 'gradient_mean', 'gradient_std', 'laplacian_var', 'noise_energy', 'noise_mean', 'noise_std']
2025-12-11 14:07:50 [INFO] [__main__:290] 
================================================================================
2025-12-11 14:07:50 [INFO] [__main__:291] STAGE 4 FEATURES
2025-12-11 14:07:50 [INFO] [__main__:292] ================================================================================
2025-12-11 14:07:50 [INFO] [__main__:294] ✓ Stage 4 metadata found: /gpfs/accounts/si670f25_class_root/si670f25_class/santoshd/fvc/data/features_stage4/features_scaled_metadata.arrow
2025-12-11 14:07:51 [INFO] [__main__:299]   Total videos: 3243
2025-12-11 14:07:51 [INFO] [__main__:300]   Feature count: 23
2025-12-11 14:07:51 [INFO] [__main__:303]   ✓ Correct number of features (23)
2025-12-11 14:07:51 [INFO] [__main__:311]   Feature names: ['boundary_inconsistency', 'codec_bitrate', 'codec_fps', 'codec_resolution', 'color_consistency_b', 'color_consistency_g', 'color_consistency_r', 'compression_artifacts', 'dct_ac_energy', 'dct_ac_mean', 'dct_ac_std', 'dct_dc_mean', 'dct_dc_std', 'edge_density', 'gradient_mean', 'gradient_std', 'is_downscaled', 'is_upscaled', 'laplacian_var', 'noise_energy', 'noise_mean', 'noise_std', 'texture_uniformity']
2025-12-11 14:07:52 [INFO] [__main__:316]   Feature files checked: 10
2025-12-11 14:07:52 [INFO] [__main__:322]   Sample shapes: [(1, 23), (1, 23), (1, 23), (1, 23), (1, 23)]
2025-12-11 14:07:52 [INFO] [__main__:327] 
================================================================================
2025-12-11 14:07:52 [INFO] [__main__:328] TESTING FEATURE LOADING
2025-12-11 14:07:52 [INFO] [__main__:329] ================================================================================
2025-12-11 14:10:18 [INFO] [__main__:361] Testing feature loading with 5 videos (no Stage 4 overlap found, using Stage 2 only)...
2025-12-11 14:10:18 [ERROR] [__main__:390] ✗ Failed to load features: too many values to unpack (expected 3)
Traceback (most recent call last):
  File "/gpfs/accounts/si670f25_class_root/si670f25_class/santoshd/fvc/src/scripts/sanity_check_features.py", line 375, in main
    features, feature_names, kept_indices = load_and_combine_features(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: too many values to unpack (expected 3)
2025-12-11 14:10:18 [WARNING] [__main__:395] ⚠ Feature loading test failed, but continuing with sanity check
2025-12-11 14:10:18 [INFO] [__main__:397] 
================================================================================
2025-12-11 14:10:18 [INFO] [__main__:398] SANITY CHECK COMPLETE
2025-12-11 14:10:18 [INFO] [__main__:399] ================================================================================
2025-12-11 14:10:18 [INFO] [__main__:403] ✓ All critical checks passed
2025-12-11 14:10:18 [INFO] [__main__:415] Full log saved to: /gpfs/accounts/si670f25_class_root/si670f25_class/santoshd/fvc/logs/sanity_check_features_1765480063.log
